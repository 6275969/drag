<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<style type="text/css">
		*{margin:0; padding:0; list-style:none;}
		ul{width:9999px; height:200px;}
		li{width:500px; height:200px; background:#ccc; float:left; font-size:30px; text-align:center; line-height:200px;}
		.slider{width:500px; overflow:hidden; margin:0 auto;}
		a{font-size:50px; text-decoration:none; background:#ccc; width:200px; text-align:center; float:left;}
		a:last-child{float:right;}
		.btn{margin:0 auto; width:500px; margin-top:30px;}
	</style>
</head>
<body>
	<div class="slider">
		<ul class="box">
			<li>一</li>
			<li>二</li>
			<li>三</li>
			<li>四</li>
			<li>五</li>
		</ul>
	</div>
	<div class="btn">
		<a class="left" href="javascript:;"><</a>
		<a class="right" href="javascript:;">></a>
	</div>
	
</body>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">
	$(function(){
		// $('.right').click(function(){
		// 	if(!$('.box').is(":animated")){
		// 		var size=$('li').length
		// 		var num=Math.abs(parseInt($('.box').css('marginLeft')))/500+1;
		// 		if(num<size){
		// 			$('.box').animate({
		// 				marginLeft:-500*num
		// 			})
		// 		}
		// 	}
		// })

		// $('.left').click(function(){
		// 	if(!$('.box').is(":animated")){
		// 		var num=Math.abs(parseInt($('.box').css('marginLeft')))/500-1;
		// 		if(num>=0){
		// 			$('.box').animate({
		// 				marginLeft:-500*num
		// 			})
		// 		}
		// 	}
			
		// })

		$('.btn a').click(function(){
			// Slider.call(this,'.box')
			initSlider('.box',this)
		})

		function Slider(cls,_this){
			
			if(!$(cls).is(":animated")){
				this.len=$('li').length
				this.w=$('li').width()
				this.num=Math.abs(parseInt($(cls).css('marginLeft')))/this.w;
				if($(_this).prop('class')=='left'){
					if(this.num-1>=0){
						$(cls).animate({
							marginLeft:-this.w*(this.num-1)
						})
					}
				}else{
					if(this.num+1<this.len){
						$(cls).animate({
							marginLeft:-this.w*(this.num+1)
						})
					}
				}
				
			}
		}

		function initSlider(cls,_this){
			new Slider(cls,_this)
		}

		// function Slider(cls){
			
		// 	if(!$(cls).is(":animated")){
		// 		var size=$('li').length
		// 		var w=$('li').width()
		// 		var num=Math.abs(parseInt($(cls).css('marginLeft')))/w;
		// 		if($(this).prop('class')=='left'){
		// 			if(num-1>=0){
		// 				$('.box').animate({
		// 					marginLeft:-w*(num-1)
		// 				})
		// 			}
		// 		}else{
		// 			if(num+1<size){
		// 				$('.box').animate({
		// 					marginLeft:-w*(num+1)
		// 				})
		// 			}
		// 		}
				
		// 	}
		// }

	})	
</script>
</html>