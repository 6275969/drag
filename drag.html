<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<style type="text/css">
		*{margin:0; padding:0}
		.blue{background:blue; position:absolute; top:50px; left:50px; width:200px; height:200px;}
	</style>
</head>
<body>
	<div id="blue" class="blue"></div>
</body>
<script type="text/javascript">
	// window.onload=function(){
	// 	var oDiv=document.getElementById('blue')
	// 	oDiv.onmousedown=function(e){
	// 		var it=this;
	// 		var diffx=e.clientX-it.offsetLeft
	// 		var diffy=e.clientY-it.offsetTop
	// 		document.onmousemove=function(e){
	// 			it.style.left=e.clientX-diffx+'px'
	// 			it.style.top=e.clientY-diffy+'px'
	// 		}
	// 		document.onmouseup=function(){
	// 			document.onmousemove=null
	// 			document.onmouseup=null
	// 		}
	// 	}

	// }


	myDrag('blue')

	function myDrag(id){
		new Drag(id)
	}

	function Drag(id){
		var _this=this;
		this.diffx=0;
		this.diffy=0;
		this.oDiv=document.getElementById(id);
		this.oDiv.onmousedown=function(){
			_this.fnDown()
		}
	}

	Drag.prototype.fnDown=function(e){
		var _this=this;
		var e=e||event;
		this.diffx=e.clientX-this.oDiv.offsetLeft;
		this.diffy=e.clientY-this.oDiv.offsetTop;
		document.onmousemove=function(){
			_this.fnMove()
		}
		document.onmouseup=function(){
			_this.fnUp()
		}
	}


	Drag.prototype.fnMove=function(e){
		var e=e||event;
		this.oDiv.style.left=e.clientX-this.diffx+'px'
		this.oDiv.style.top=e.clientY-this.diffy+'px'
	}

	Drag.prototype.fnUp=function(){
		document.onmousemove=null
		document.onmouseup=null
	}

	
		

	
	
</script>
</html>